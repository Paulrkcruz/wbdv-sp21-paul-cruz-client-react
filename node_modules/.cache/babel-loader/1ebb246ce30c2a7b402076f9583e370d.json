{"ast":null,"code":"import _objectSpread from\"/Users/kurtiscruz/Desktop/GitHub/wbdv-sp21-paul-cruz-client-react/wbdv-sp21-paul-cruz-client-react/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/kurtiscruz/Desktop/GitHub/wbdv-sp21-paul-cruz-client-react/wbdv-sp21-paul-cruz-client-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kurtiscruz/Desktop/GitHub/wbdv-sp21-paul-cruz-client-react/wbdv-sp21-paul-cruz-client-react/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/kurtiscruz/Desktop/GitHub/wbdv-sp21-paul-cruz-client-react/wbdv-sp21-paul-cruz-client-react/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/kurtiscruz/Desktop/GitHub/wbdv-sp21-paul-cruz-client-react/wbdv-sp21-paul-cruz-client-react/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import CourseTable from\"./course-table\";import CourseGrid from\"./course-grid\";import CourseEditor from\"./course-editor\";import{Route}from\"react-router-dom\";import courseService,{findAllCourses}from\"../services/course-service\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CourseManager=/*#__PURE__*/function(_React$Component){_inherits(CourseManager,_React$Component);var _super=_createSuper(CourseManager);function CourseManager(){var _this;_classCallCheck(this,CourseManager);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={courses:[// {title: \"CS5500 Software Engineering Graduate\", owner:\"me\", lastModified: \"1/22/2021\"},\n// {title: \"CS4550 Software Engineering Undergraduate\", owner:\"me\", lastModified: \"1/25/2021\"},\n// {title: \"CS4500 WebDev Undergraduate\", owner:\"me\", lastModified: \"1/26/2021\"},\n// {title: \"CS5610 WebDev Graduate\", owner:\"me\", lastModified: \"2/1/2021\"},\n]};_this.updateCourse=function(course){courseService.updateCourse(course._id,course).then(function(status){return _this.setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{courses:prevState.courses.map(function(c){return c._id===course._id?course:c;})// courses: prevState.courses.map(c => {\n//     if(c._id === course._id) {\n//         return course\n//     } else {\n//         return c\n//     }\n//     })\n});});});};_this.componentDidMount=function(){return(// findAllCourses()\n//     .then(actualCourses => this.setState({\n//         courses.actualCourses\n//         }\n//     ))\nfindAllCourses().then(function(courses){return _this.setState({courses:courses});}));};_this.addCourse=function(){var newCourse={title:\"New Course\",owner:\"me\",lastModified:\"mm/dd/yyy\"};courseService.createCourse(newCourse).then(function(actualCourse){_this.state.courses.push(actualCourse);_this.setState(_this.state);});// .then(\n//     course =>\n//     this.setState((prevState) => ({\n//     ...prevState,\n//     courses: [\n//         ...prevState.courses,\n//         course\n//     ]\n// })))\n// this.state.courses.push(newCourse)\n// this.setState(this.state)\n};_this.deleteCourse=function(courseToDelete){courseService.deleteCourse(courseToDelete._id).then(function(status){// const newCourse = this.state.courses\n//     .filter(course => course !== courseToDelete)\n// this.setState({\n//     courses: newCourse})\n_this.setState(function(prevState){var nextState={};nextState.courses=prevState.courses.filter(function(course){return course!==courseToDelete;});return nextState;});});// console.log(course)\n// const newCourse = this.state.courses.filter(course => course !== courseToDelete)\n// this.setState({courses: newCourse})\n};return _this;}_createClass(CourseManager,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{class:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"wbdv-sticky-nav-bar row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-1\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-bars fa-2x\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Course Manager\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-7\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",placeholder:\"New Course Title\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-1\",onClick:this.addCourse,children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus-circle fa-2x\",style:{color:\"red\"}})})]}),/*#__PURE__*/_jsx(Route,{path:\"/courses/table\",children:/*#__PURE__*/_jsx(CourseTable,{deleteCourse:this.deleteCourse,courses:this.state.courses,updateCourse:this.updateCourse})}),/*#__PURE__*/_jsx(Route,{path:\"/courses/grid\",children:/*#__PURE__*/_jsx(CourseGrid,{deleteCourse:this.deleteCourse,courses:this.state.courses})}),/*#__PURE__*/_jsx(Route,{path:\"/courses/editor\",render:function render(props){return/*#__PURE__*/_jsx(CourseEditor,{props:props});}})]});}}]);return CourseManager;}(React.Component);export default CourseManager;","map":{"version":3,"sources":["/Users/kurtiscruz/Desktop/GitHub/wbdv-sp21-paul-cruz-client-react/wbdv-sp21-paul-cruz-client-react/src/components/course-manager.js"],"names":["React","CourseTable","CourseGrid","CourseEditor","Route","courseService","findAllCourses","CourseManager","state","courses","updateCourse","course","_id","then","status","setState","prevState","map","c","componentDidMount","addCourse","newCourse","title","owner","lastModified","createCourse","actualCourse","push","deleteCourse","courseToDelete","nextState","filter","color","props","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport CourseTable from \"./course-table\";\nimport CourseGrid from \"./course-grid\";\nimport CourseEditor from \"./course-editor\";\nimport {Route} from \"react-router-dom\";\nimport courseService, {findAllCourses} from \"../services/course-service\";\n\n\nclass CourseManager extends React.Component {\n    state = {\n        courses: [\n            // {title: \"CS5500 Software Engineering Graduate\", owner:\"me\", lastModified: \"1/22/2021\"},\n            // {title: \"CS4550 Software Engineering Undergraduate\", owner:\"me\", lastModified: \"1/25/2021\"},\n            // {title: \"CS4500 WebDev Undergraduate\", owner:\"me\", lastModified: \"1/26/2021\"},\n            // {title: \"CS5610 WebDev Graduate\", owner:\"me\", lastModified: \"2/1/2021\"},\n        ]\n    }\n\n    updateCourse = (course) => {\n        courseService.updateCourse(course._id, course)\n            .then(status => this.setState((prevState) => ({\n                ...prevState,\n                courses: prevState.courses.map(\n                    (c) => c._id === course._id ? course : c)\n                // courses: prevState.courses.map(c => {\n                //     if(c._id === course._id) {\n                //         return course\n                //     } else {\n                //         return c\n                //     }\n                //     })\n            })))\n    }\n\n    componentDidMount = () =>\n        // findAllCourses()\n        //     .then(actualCourses => this.setState({\n        //         courses.actualCourses\n        //         }\n        //     ))\n        findAllCourses()\n            .then(courses => this.setState({courses}))\n\n    addCourse = () => {\n        const newCourse = {\n            title: \"New Course\",\n            owner: \"me\",\n            lastModified: \"mm/dd/yyy\"\n        }\n        courseService.createCourse(newCourse)\n            .then(actualCourse => {\n                this.state.courses.push(actualCourse)\n                this.setState(this.state)\n            })\n        // .then(\n        //     course =>\n        //     this.setState((prevState) => ({\n        //     ...prevState,\n        //     courses: [\n        //         ...prevState.courses,\n        //         course\n        //     ]\n        // })))\n\n        // this.state.courses.push(newCourse)\n        // this.setState(this.state)\n    }\n\n    deleteCourse = (courseToDelete) => {\n        courseService.deleteCourse(courseToDelete._id)\n            .then(status => {\n                // const newCourse = this.state.courses\n                //     .filter(course => course !== courseToDelete)\n                // this.setState({\n                //     courses: newCourse})\n                this.setState((prevState) => {\n                    let nextState = {}\n                    nextState.courses =\n                        prevState\n                            .courses\n                            .filter(course => course !== courseToDelete)\n                    return nextState\n                })\n            })\n        // console.log(course)\n        // const newCourse = this.state.courses.filter(course => course !== courseToDelete)\n        // this.setState({courses: newCourse})\n    }\n\n    render() {\n        return (\n            <div class=\"container\">\n                <div className=\"wbdv-sticky-nav-bar row\">\n                    <div className=\"col-1\">\n                        <i className=\"fas fa-bars fa-2x\"></i>\n                    </div>\n                    <div className=\"col-3\">\n                        <h2>Course Manager</h2>\n                    </div>\n                    <div className=\"col-7\">\n                        <input className=\"form-control\"\n                               placeholder=\"New Course Title\"></input>\n                    </div>\n                    <div className=\"col-1\" onClick={this.addCourse}>\n                        <i className=\"fas fa-plus-circle fa-2x\" style={{color: \"red\"}}></i>\n                        {/*<button onClick={this.addCourse}>Add Course</button>*/}\n                    </div>\n                </div>\n                <Route path=\"/courses/table\">\n                    <CourseTable deleteCourse={this.deleteCourse}\n                                 courses={this.state.courses}\n                                 updateCourse={this.updateCourse}/>\n                </Route>\n                <Route path=\"/courses/grid\">\n                    <CourseGrid deleteCourse={this.deleteCourse}\n                                courses={this.state.courses}/>\n                </Route>\n                {/*<Route path=\"/courses/editor\">*/}\n                {/*    <CourseEditor/>*/}\n                {/*</Route>*/}\n                <Route path=\"/courses/editor\"\n                       render={(props) => <CourseEditor props={props}/> }>\n\n                </Route>\n            </div>\n        );\n    }\n}\n\n\nexport default CourseManager"]},"metadata":{},"sourceType":"module"}